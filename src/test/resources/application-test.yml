server:
  port: 8081

spring:
  application:
    name: smartTransportation-test
  main:
    allow-bean-definition-overriding: true
  ai:
    # dashscope: # 原 DashScope 配置，已切换到 OpenAI
    #   api-key: sk-012834a6b13349a79a98c3d7723b6851
    openai:
      api-key: 96662af9a5fa753462e291e3a219cd89
      base-url: https://idealab.alibaba-inc.com/api/openai/v1
      chat:
        options:
          model: qwen2-72b-instruct
          temperature: 0.7

  # MySQL 数据库配置 - 使用相同的测试数据库
  datasource:
    url: jdbc:mysql://localhost:3306/smart_transportation?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: root
    password: Qwert_1245
    driver-class-name: com.mysql.cj.jdbc.Driver

  # JPA 配置
  jpa:
    hibernate:
      ddl-auto: validate  # 测试环境不修改表结构
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect
        format_sql: true

# 禁用不必要的服务
milvus:
  enabled: false

weather:
  api:
    enabled: false

logging:
  level:
    org.example.smarttransportation: DEBUG
    org.springframework.jdbc: DEBUG
